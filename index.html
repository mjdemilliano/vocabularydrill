<!DOCTYPE html>
<html ng-app="vocabularyDrillApp">
<head>
<meta http-equiv="content-type" value="text/html; charset=UTF-8">
<script type="text/javascript" src="angular.min.js"></script>
<script type="text/javascript" src="angular-resource.js"></script>
<script type="text/javascript" src="vocabularydrill.js"></script>
<script type="text/javascript" src="jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="ng-FitText.js"></script>
<script type="text/javascript" src="d3.min.js"></script>
<script type="text/javascript" src="dangle.min.js"></script>
<style type="text/css">
body {
    font-family: sans-serif;
    font-size: 120%;
}
.card {
    display: block;
    width: calc(100% - 20px);
    margin: 10px;
    height: 120px;
    padding: 10px 0px 10px 0px;
    text-align: center;
    background-color: #ffff00;
    opacity: 0.1;
}
.card.answer {
    background-color: #44cc44;
}
.card.enabled {
    opacity: 1.0;
}
.feedback-button {
    display: block;
    float: left;
    width: calc(50% - 20px);
    margin: 10px;
    padding: 20px 0px;
    text-align: center;
    opacity: 0.1;
}
.feedback-button.feedback-wrong {
    background-color: #aa0010;
    color: #ffffff;
}
.feedback-button.feedback-correct {
    background-color: #00cc15;
}
.feedback-button.enabled {
    opacity: 1.0;
}
.sections ul {
    list-style-type: none;
    clear: both;
}
.sections ul li {
    float: left;
    padding: 5px;
    margin: 10px;
    margin-right: 5em;
    background-color: #dddddd;
    font-size: 90%;
}
.sections ul li a {
    text-decoration: none;
}
.sections li.current {
    background-color: #44cc44;
}
table thead th {
    text-align: left;
}
</style>
</head>
<body ng-controller="SessionCtrl">
    <div ng-controller="FlashCardCtrl">
        <div class="card" data-fittext="0.6" data-fittext-min="10" data-fittext-max="80" ng-class="{answer: !showingQuestion, enabled: hasWord()}" ng-click="hasWord() ? pressedWord() : false">{{ word.word[show] }}</div>
    </div>
    <div ng-controller="FeedbackCtrl">
        <div class="feedback-button feedback-wrong" ng-class="{enabled: enabled}" ng-click="enabled ? feedback(false) : false">Wrong</div>
        <div class="feedback-button feedback-correct" ng-class="{enabled: enabled}" ng-click="enabled ? feedback(true) : false">Correct</div>
    </div>
    <div ng-controller="VocabularyCtrl" class="sections">
        <ul>
            <li ng-class="{current: currentSection === section}" ng-repeat="(section, words) in vocabulary"><a href="#" ng-click="selectSection(section)">{{ section }}</a></li>
        </ul>
    </div>
    <div>
        <fs:column width="900" height="175" bind="results.facets.SelectionProbability" />
    </div>
    <div>
        <table style="clear: both;" ng-if="words.length > 0">
            <thead>
                <tr><th>Word</th><th># correct</th><th># wrong</th><th>Selection probability</th></tr>
            </thead>
            <tbody>
                <tr ng-repeat="word in words | orderBy:'-selectionProbability'"><td>{{ word.word[0] }}</td><td>{{ word.correct }}</td><td>{{ word.wrong }}</td><td>{{ word.selectionProbability }}</td></tr>
            </tbody>
        </table>
    </div>
</body>
</html>
